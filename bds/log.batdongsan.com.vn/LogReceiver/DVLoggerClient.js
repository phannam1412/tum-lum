var LOG_BDS_CONSTANTS={WEB_ALL_DOMAIN:".batdongsan.com.vn",WEB_DOMAIN:"batdongsan.com.vn",WEB_KEY_API:"bds"},LOG_CONSTANTS={BATDONGSAN_WEB_ID:1,TOPBANK_WEB_ID:2,BANXEHOI_WEB_ID:3,TINNHAC_WEB_ID:4,TINXE_WEB_ID:5,CHOBROD_WEB_ID:6,CINTAMOBIL_WEB_ID:7,PHIKOTSE_WEB_ID:8,version:10,URL:{EXPERIMENTAL_DESIGN_JS:"https://log."+LOG_BDS_CONSTANTS.WEB_DOMAIN+"/js/bds/ed.js?v="+(new Date).toJSON().slice(0,10),LINK_GET_GEO_IP_ADDRESS:"//geoip.nekudo.com/api/",USER_HANDLER:"/HandlerWeb/UserHandler.ashx?type=getuserstatus",LOG_SERVER:"https://log."+LOG_BDS_CONSTANTS.WEB_DOMAIN+"/"+LOG_BDS_CONSTANTS.WEB_KEY_API+"lp",LOG_SERVER_IMAGE_REQUEST:"https://log."+LOG_BDS_CONSTANTS.WEB_DOMAIN+"/"+LOG_BDS_CONSTANTS.WEB_KEY_API+"lg"},COOKIE:{USER_INFO_KEY_COOKIE:"uitb",USER_SESSION_KEY:"usidtb",SESSION_KEY:"sidtb"},LOCAL_STORAGE:{IP_LOCATION_ADDRESS_KEY:"ipLocationAdress",LOG_CLICK_COOKIE_KEY:"logClickCookie",LOG_ENTER_UP_COOKIE_KEY:"logEnterUpCookie",VERSIONS:"experimental_design_versions",TIME_ON_SITE_ONLY:"time_on_site",LOG_TIME_ON_SITE_KEY:"logTimeOnSitePreviousPage"},CLIENT_IP:{KEY_IP_ADDRESS_RESPONSE:"ip",KEY_CITY_ADDRESS_RESPONSE:"city",KEY_REGION_ADDRESS_RESPONSE:"city",KEY_COUNTRY_ADDRESS_RESPONSE:"country",KEY_COUNTRY_NAME_ADDRESS_RESPONSE:"name"},SEND_LOG_TYPE:{IMAGE:"image",XHR:"xhr",BEACON:"beacon"},ACTION_TYPE:{PAGE_VIEW:185,WINDOW_SCROLL:188,CLICK_LOCATION:189,CLICK_LINK_NOIBAT:190,MOUSE_CLICK:191,MOUSE_MOVE_OVER:192,MOUSE_MOVE_STOP:193,UNLOAD:194,ENTER_UP:195},THRESHOLD:{COOKIE_LENGTH:32,TOKEN_LENGTH:32,GET_REQUEST_MAX_LENGTH:2048,USER_SESSION_TIMEOUT:3650,SROLL_PIXEL_MAX:400,MOUSE_MOUVE_STOP_TIMEOUT:1e3,SEARCH_BOX_TAG_TIMEOUT:300,SCROLL_TIMEOUT:1e3,IP_ADDRESS_COOKIE_TIMEOUT:.5,USER_INFO_KEY_COOKIE:3650,MAX_LENGTH_OUTER_HTML:512},KEY_CODE:{ENTER:13,UP:38,DOWN:40,PAGE_UP:33,PAGE_DOWN:34},current_pagey_offset:0,ID_SEARCH_BOXS:["txt1","txtAutoComplete","email","txtChatPhoneNumber","txtChatName","txtChatEmail","txtName","txtEmail","txtMobile","txtLink","txtContent"],CSS_OBJECT_LOG_MOUSE_MOVES:[]},globalVar={lastPressKeyTime:0,currentKeycode:0,lastScrollTime:0,lastMouseMoveStopTime:0,mousePositionX:-1,mousePositionY:-1,isLogPageView:!1,loggerAndSearchTextBox:!1,addMouseClickEvent:!1,addMouseMoveAndStopEvent:!1,addScrollLog:!1,addBeforeUnload:!1,tracking:!1,start_time_active_tab:0,is_active:!0,time_on_site:new Number(0),ip_cache_time:18e5,url_get_ip:"https://api.ipify.org?format=jsonp&callback=?"},userInfo={id:"",name:"",email:"",mobile:"",age:"0",identify_card_number:"0",time:0};function Logger(){try{function t(e){var t,n;t=Array.prototype.forEach,n=Array.prototype.map,this.each=function(e,n,i){if(null!==e)if(t&&e.forEach===t)e.forEach(n,i);else if(e.length===+e.length){for(var a=0,o=e.length;a<o;a++)if(n.call(i,e[a],a,e)==={})return}else for(var r in e)if(e.hasOwnProperty(r)&&n.call(i,e[r],r,e)==={})return},this.map=function(e,t,i){var a=[];return null==e?a:n&&e.map===n?e.map(t,i):(this.each(e,function(e,n,o){a[a.length]=t.call(i,e,n,o)}),a)},"object"==typeof e?(this.hasher=e.hasher,this.screen_resolution=e.screen_resolution,this.screen_orientation=e.screen_orientation,this.canvas=e.canvas,this.ie_activex=e.ie_activex):"function"==typeof e&&(this.hasher=e)}function n(){this.i,this.o}function i(){this.i,this.uid,this.h,this.t,this.p,this.a,this.o,this.ad,this.gy,this.ey,this.gx,this.ex,this.pt,this.dp,this.dn,this.zn,this.loc}this.getXHR=function(){return window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},this.makeId=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},this.createLogObject=function(e,n){return new function(e,n){this.user_id=userInfo.id,this.email=userInfo.email,this.mobile=userInfo.mobile,this.name=userInfo.name,this.age=userInfo.age,this.id_card=userInfo.identify_card_number;try{var i=localStorage.getItem(LOG_CONSTANTS.LOCAL_STORAGE.VERSIONS);if(i&&null!=i&&""!=i){var a=JSON.parse(i);a&&null!=a&&a.value&&null!=a.value&&""!=a.value&&(this.version=a.value)}}catch(e){console.log(e)}this.action_id=e;try{this.data=JSON.stringify(n)}catch(e){console.log(e)}this.web_id=LOG_CONSTANTS.BATDONGSAN_WEB_ID,this.mouse_pos_x=globalVar.mousePositionX,this.mouse_pos_y=globalVar.mousePositionY,this.page_y_offset=window.pageYOffset,this.page_x_offset=window.pageXOffset,this.scroll_width=document.documentElement.scrollWidth,this.scroll_height=document.documentElement.scrollHeight,this.current_uri=document.URL,this.refer_uri=document.referrer,this.time=(new Date).getTime(),this.session_id,this.user_session_id,this.browser_finger_print,this.screen_width,this.screen_height,this.browser_width,this.browser_height,this.os_info,this.browser_info,this.is_mobile,this.ip_address="",this.city="",this.region="",this.country="",this.send_time,this.prepareLogObjectData=function(e){this.session_id=e.getSessionId(),this.user_session_id=e.getUserSessionId(),this.browser_finger_print=(new t).get();var n=e.getBrowserAndOSInfo();this.screen_width=n.screenWidth,this.screen_height=n.screenHeight,this.browser_width=window.innerWidth,this.browser_height=window.innerHeight,this.os_info=n.os+" "+n.osVersion,this.browser_info=n.browser+" "+n.browserMajorVersion+" ("+n.browserVersion+")\n",this.is_mobile=n.mobile;var i=e.getIPLocationAddress();i&&null!=i?(this.ip_address=i[LOG_CONSTANTS.CLIENT_IP.KEY_IP_ADDRESS_RESPONSE],this.city=i[LOG_CONSTANTS.CLIENT_IP.KEY_CITY_ADDRESS_RESPONSE],this.region=i[LOG_CONSTANTS.CLIENT_IP.KEY_REGION_ADDRESS_RESPONSE],this.country=i[LOG_CONSTANTS.CLIENT_IP.KEY_COUNTRY_ADDRESS_RESPONSE]):this.getIPLocationAddressFromAPI()}}(e,n)},this.createData=function(){return new function(){this.timeOnSite,this.timestamp,this.target=new Object,this.searchContent,this.ci,this.di,this.wi,this.si,this.pi,this.cc,this.uid,this.vdi=new i,this.vdis=[],this.vdns=[],this.is=[],this.titleFooter}},t.prototype={get:function(){var e=[];if(e.push(navigator.userAgent),e.push(navigator.language),e.push(screen.colorDepth),this.screen_resolution){var t=this.getScreenResolution();void 0!==t&&e.push(t.join("x"))}return e.push((new Date).getTimezoneOffset()),e.push(this.hasSessionStorage()),e.push(this.hasLocalStorage()),e.push(!!window.indexedDB),document.body?e.push(typeof document.body.addBehavior):e.push("undefined"),e.push(typeof window.openDatabase),e.push(navigator.cpuClass),e.push(navigator.platform),e.push(navigator.doNotTrack),e.push(this.getPluginsString()),this.canvas&&this.isCanvasSupported()&&e.push(this.getCanvasFingerprint()),this.hasher?this.hasher(e.join("###"),31):this.murmurhash3_32_gc(e.join("###"),31)},murmurhash3_32_gc:function(e,t){var n,i,a,o,r,s,l,c;for(n=3&e.length,i=e.length-n,a=t,r=3432918353,s=461845907,c=0;c<i;)l=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,a=27492+(65535&(o=5*(65535&(a=(a^=l=(65535&(l=(l=(65535&l)*r+(((l>>>16)*r&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|a>>>19))+((5*(a>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(l=0,n){case 3:l^=(255&e.charCodeAt(c+2))<<16;case 2:l^=(255&e.charCodeAt(c+1))<<8;case 1:a^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(c)))*r+(((l>>>16)*r&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return a^=e.length,a=2246822507*(65535&(a^=a>>>16))+((2246822507*(a>>>16)&65535)<<16)&4294967295,a=3266489909*(65535&(a^=a>>>13))+((3266489909*(a>>>16)&65535)<<16)&4294967295,(a^=a>>>16)>>>0},hasLocalStorage:function(){try{return!!window.localStorage}catch(e){return!0}},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},isCanvasSupported:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName||!("Netscape"!==navigator.appName||!/Trident/.test(navigator.userAgent))},getPluginsString:function(){return this.isIE()&&this.ie_activex?this.getIEPluginsString():this.getRegularPluginsString()},getRegularPluginsString:function(){return this.map(navigator.plugins,function(e){var t=this.map(e,function(e){return[e.type,e.suffixes].join("~")}).join(",");return[e.name,e.description,t].join("::")},this).join(";")},getIEPluginsString:function(){if(window.ActiveXObject){return this.map(["ShockwaveFlash.ShockwaveFlash","AcroPDF.PDF","PDF.PdfCtrl","QuickTime.QuickTime","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","RealPlayer","SWCtl.SWCtl","WMPlayer.OCX","AgControl.AgControl","Skype.Detection"],function(e){try{return new ActiveXObject(e),e}catch(e){return null}}).join(";")}return""},getScreenResolution:function(){return this.screen_orientation?screen.height>screen.width?[screen.height,screen.width]:[screen.width,screen.height]:[screen.height,screen.width]},getCanvasFingerprint:function(){var e=document.createElement("canvas"),t=e.getContext("2d"),n="logger"+LOG_BDS_CONSTANTS.WEB_ALL_DOMAIN;return t.textBaseline="top",t.font="14px 'Arial'",t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(125,1,62,20),t.fillStyle="#069",t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText(n,4,17),e.toDataURL()}},this.getSessionId=function(){var e=this.getCookie(LOG_CONSTANTS.COOKIE.SESSION_KEY);return e&&null!=e&&""!=e?(this.setCookie(LOG_CONSTANTS.COOKIE.SESSION_KEY,e),e):(e=this.makeId(LOG_CONSTANTS.THRESHOLD.COOKIE_LENGTH),this.setCookie(LOG_CONSTANTS.COOKIE.SESSION_KEY,e),e)},this.getUserSessionId=function(){var e=this.getCookie(LOG_CONSTANTS.COOKIE.USER_SESSION_KEY);return e&&null!=e&&""!=e?(this.setCookie(LOG_CONSTANTS.COOKIE.USER_SESSION_KEY,e,LOG_CONSTANTS.THRESHOLD.USER_SESSION_TIMEOUT),e):(e=this.makeId(LOG_CONSTANTS.THRESHOLD.COOKIE_LENGTH),this.setCookie(LOG_CONSTANTS.COOKIE.USER_SESSION_KEY,e,LOG_CONSTANTS.THRESHOLD.USER_SESSION_TIMEOUT),e)},this.getCurrentURI=function(){return document.URL},this.setCookie=function(e,t,n){var i="",a=new Date;if(void 0!==n)a.setTime(a.getTime()+24*n*60*60*1e3),i="expires="+a.toUTCString();else{var o=new Date(a.getFullYear(),a.getMonth()+1,a.getDate()+1);a.setTime(Math.min(a.getTime()+18e5,o.getTime())),i="expires="+a.toUTCString()}document.cookie=e+"="+t+";"+i+";path=/;domain="+LOG_BDS_CONSTANTS.WEB_ALL_DOMAIN},this.getCookie=function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var a=n[i];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""},this.sendLog=function(e){e.sendTime=(new Date).getTime(),encodeURIComponent(JSON.stringify(e)).length<LOG_CONSTANTS.THRESHOLD.GET_REQUEST_MAX_LENGTH?this.sendLogByGetImageRequest(e):this.postLogXHR(e)},this.sendLogByGetImageRequest=function(e){var t=JSON.stringify(e),n=new Image;n.style.display="none",n.onload=function(){document.body.appendChild(n)},n.src=LOG_CONSTANTS.URL.LOG_SERVER_IMAGE_REQUEST+"?log="+encodeURIComponent(t),this.processRemoveLocalStorage(e)},this.processRemoveLocalStorage=function(e){e.action_id==LOG_CONSTANTS.ACTION_TYPE.MOUSE_CLICK?localStorage.removeItem(LOG_CONSTANTS.LOCAL_STORAGE.LOG_CLICK_COOKIE_KEY+e.time):e.action_id==LOG_CONSTANTS.ACTION_TYPE.ENTER_UP?localStorage.removeItem(LOG_CONSTANTS.LOCAL_STORAGE.LOG_ENTER_UP_COOKIE_KEY+e.time):e.action_id==LOG_CONSTANTS.ACTION_TYPE.UNLOAD&&localStorage.removeItem(LOG_CONSTANTS.LOCAL_STORAGE.LOG_TIME_ON_SITE_KEY+e.time)},this.sendXHRLog=function(e){e.sendTime=(new Date).getTime(),this.postLogXHR(e)},this.postLogXHR=function(e){var t=JSON.stringify(e);try{var n=this.getXHR();n.onreadystatechange=function(){n.readyState==XMLHttpRequest.DONE&&n.status>=200&&n.status<300&&logger.processRemoveLocalStorage(e)},n.open("POST",LOG_CONSTANTS.URL.LOG_SERVER,!0),n.setRequestHeader("Content-type","application/json;charset=utf-8"),n.setRequestHeader("Content-Encoding","gzip"),n.withCredentials=!0,n.send(t)}catch(e){globalVar.tracking&&console.log(e)}},this.getIPLocationAddressFromAPI=function(){$.getJSON("//api.ipify.org?format=jsonp&callback=?",function(e){var t=new Object;t[LOG_CONSTANTS.CLIENT_IP.KEY_IP_ADDRESS_RESPONSE]=e.ip,localStorage.setItem(LOG_CONSTANTS.LOCAL_STORAGE.IP_LOCATION_ADDRESS_KEY,JSON.stringify(t))})},this.getIPLocationAddressLocal=function(){try{window.RTCPeerConnection=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;var e=new RTCPeerConnection({iceServers:[]}),t=function(){};e.createDataChannel(""),e.createOffer(e.setLocalDescription.bind(e),t),e.onicecandidate=function(n){if(n&&n.candidate&&n.candidate.candidate){var i=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/.exec(n.candidate.candidate)[1],a=new Object;a[LOG_CONSTANTS.CLIENT_IP.KEY_IP_ADDRESS_RESPONSE]=i,localStorage.setItem(LOG_CONSTANTS.LOCAL_STORAGE.IP_LOCATION_ADDRESS_KEY,JSON.stringify(a)),e.onicecandidate=t}}}catch(e){globalVar.tracking&&console.log(e)}return null},this.getIPLocationAddress=function(){var e=localStorage.getItem(LOG_CONSTANTS.LOCAL_STORAGE.IP_LOCATION_ADDRESS_KEY);try{if(e&&null!=e&&""!=e)return JSON.parse(e)}catch(e){globalVar.tracking&&console.log(e)}return null},this.getLocationFromElement=function(e,t){try{t.gy=e.getBoundingClientRect().top-document.body.getBoundingClientRect().top}catch(e){globalVar.tracking&&console.log(e)}try{t.gx=e.getBoundingClientRect().left-document.body.getBoundingClientRect().left}catch(e){globalVar.tracking&&console.log(e)}try{t.ey=e.offsetHeight}catch(e){globalVar.tracking&&console.log(e)}try{t.ex=e.offsetWidth}catch(e){globalVar.tracking&&console.log(e)}},this.getInputData=function(){for(var e=[],t=document.querySelectorAll('input[type="text"],input[type="file"],input[type="email"],input[type="datetime-local"],input[type="date"],input[type="color"],input[type="checkbox"]'),i=0;i<t.length;i++){var a=t[i],o=new n;o.i=a.value,a.outerHTML&&null!=a.outerHTML&&""!=a.outerHTML&&(a.outerHTML.length>LOG_CONSTANTS.THRESHOLD.MAX_LENGTH_OUTER_HTML/16?o.o=a.outerHTML.substring(0,Math.max(LOG_CONSTANTS.THRESHOLD.MAX_LENGTH_OUTER_HTML/16,a.outerHTML.indexOf(">")+1)):o.o=a.outerHTML),e[i]=o}return e},this.getDescriptionDesktop=function(){var e=document.querySelector('div[class="Title"] div[class="Footer"]');if(null!=e){for(var t=e.childNodes,n=[],i=0;i<t.length;i++)n[i]=t[i].textContent.trim();return n}return null},this.getDescriptionMobile=function(){var e=[],t=0,n=document.querySelector('div[class="sr-title"] h1');null!=n&&null!=n&&(e[t]=n.innerText.trim(),t++);var i=document.querySelectorAll('div[class="sr-title"] div[class="div-plance"] div');if(null!=i&&null!=i)for(var a=0;a<i.length;a++){var o=i[a];if(null!=o&&null!=o){var r=o.childNodes;if(null!=r&&null!=r)for(var s=0;s<r.length;s++)e[t]=r[s].textContent.trim(),t++}}return null!=(n=document.querySelector('div[class^="sr-title"] div[class="div-count"]'))&&(e[t]=n.innerText.trim()),e},this.getBrowserAndOSInfo=function(){return null==window.jscd&&this.extractBrowserAndOSInfo(),window.jscd},this.extractBrowserAndOSInfo=function(){var e="";screen.width&&(width=screen.width?screen.width:"",height=screen.height?screen.height:"",e+=width+" x "+height);var t,n,i,a=navigator.appVersion,o=navigator.userAgent,r=navigator.appName,s=""+parseFloat(navigator.appVersion),l=parseInt(navigator.appVersion,10);-1!=(n=o.indexOf("Opera"))&&(r="Opera",s=o.substring(n+6),-1!=(n=o.indexOf("Version"))&&(s=o.substring(n+8))),-1!=(n=o.indexOf("OPR"))?(r="Opera",s=o.substring(n+4)):-1!=(n=o.indexOf("Edge"))?(r="Microsoft Edge",s=o.substring(n+5)):-1!=(n=o.indexOf("MSIE"))?(r="Microsoft Internet Explorer",s=o.substring(n+5)):-1!=(n=o.indexOf("Chrome"))?(r="Chrome",s=o.substring(n+7)):-1!=(n=o.indexOf("Safari"))?(r="Safari",s=o.substring(n+7),-1!=(n=o.indexOf("Version"))&&(s=o.substring(n+8))):-1!=(n=o.indexOf("Firefox"))?(r="Firefox",s=o.substring(n+8)):-1!=o.indexOf("Trident/")?(r="Microsoft Internet Explorer",s=o.substring(o.indexOf("rv:")+3)):(t=o.lastIndexOf(" ")+1)<(n=o.lastIndexOf("/"))&&(r=o.substring(t,n),s=o.substring(n+1),r.toLowerCase()==r.toUpperCase()&&(r=navigator.appName)),-1!=(i=s.indexOf(";"))&&(s=s.substring(0,i)),-1!=(i=s.indexOf(" "))&&(s=s.substring(0,i)),-1!=(i=s.indexOf(")"))&&(s=s.substring(0,i)),l=parseInt(""+s,10),isNaN(l)&&(s=""+parseFloat(navigator.appVersion),l=parseInt(navigator.appVersion,10));var c=/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(a),d=!!navigator.cookieEnabled;void 0!==navigator.cookieEnabled||d||(document.cookie="testcookie",d=-1!=document.cookie.indexOf("testcookie"));var g="-",u=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var h in u){var m=u[h];if(m.r.test(o)){g=m.s;break}}var S="-";switch(/Windows/.test(g)&&(S=/Windows (.*)/.exec(g)[1],g="Windows"),g){case"Mac OS X":S=/Mac OS X (10[\.\_\d]+)/.exec(o)[1];break;case"Android":S=/Android ([\.\_\d]+)/.exec(o)[1];break;case"iOS":S=(S=/OS (\d+)_(\d+)_?(\d+)?/.exec(a))[1]+"."+S[2]+"."+(0|S[3])}var _="no check";if("undefined"!=typeof swfobject){var O=swfobject.getFlashPlayerVersion();_=O.major>0?O.major+"."+O.minor+" r"+O.release:"-"}window.jscd={screen:e,screenWidth:width,screenHeight:height,browser:r,browserVersion:s,browserMajorVersion:l,mobile:c,os:g,osVersion:S,cookies:d,flashVersion:_}},this.pageViewLog=function(){var e=document.URL,t=null;e.indexOf("//m.")>=0&&e.indexOf(LOG_BDS_CONSTANTS.WEB_DOMAIN)>=0?(t=this.getPageViewDataMobile()).is=this.getInputData():(t=this.getPageViewDataDesktop()).is=this.getInputData(),null==this.parseIdFromUrl(e)&&(e.indexOf("//m.")>=0&&e.indexOf(LOG_BDS_CONSTANTS.WEB_DOMAIN)>=0?t.titleFooter=this.getDescriptionMobile():t.titleFooter=this.getDescriptionDesktop());var n=this.createLogObject(LOG_CONSTANTS.ACTION_TYPE.PAGE_VIEW,t);n.prepareLogObjectData(this),this.sendXHRLog(n)},this.mouseClickLog=function(e){try{var t=e.target||e.srcElement,n=this.createData();if(null!=t&&null!=t){try{for(var i=t.attributes,a=0;a<i.length;a++){var o=i[a];n.target[o.nodeName]=o.nodeValue}}catch(e){globalVar.tracking&&console.log(e)}try{n.target.tagName=t.tagName}catch(e){globalVar.tracking&&console.log(e)}var r=t.parentElement;if(null==r||null==r);else{try{for(i=r.attributes,a=0;a<i.length;a++){o=i[a];n.target["parent_"+o.nodeName]=o.nodeValue}}catch(e){globalVar.tracking&&console.log(e)}try{n.target.parent_tagName=r.tagName}catch(e){globalVar.tracking&&console.log(e)}var s=r;for(a=1;a<100&&(null!=(s=s.parentElement)&&null!=s);a++){try{for(var l=s.attributes,c=0;c<l.length;c++){var d=l[c];n.target["parent_"+a+"_"+d.nodeName]=d.nodeValue}}catch(e){globalVar.tracking&&console.log(e)}try{n.target["parent_"+a+"_tagName"]=s.tagName}catch(e){globalVar.tracking&&console.log(e)}}}}n.is=this.getInputData();var g=this.createLogObject(LOG_CONSTANTS.ACTION_TYPE.MOUSE_CLICK,n);g.prepareLogObjectData(this),localStorage.setItem(LOG_CONSTANTS.LOCAL_STORAGE.LOG_CLICK_COOKIE_KEY+g.time,JSON.stringify(g)),this.sendXHRLog(g)}catch(e){globalVar.tracking&&console.log(e)}},this.mouseMoveAndStopLog=function(e){try{globalVar.lastMouseMoveStopTime=(new Date).getTime(),globalVar.mousePositionX=null!=e.pageX?e.pageX:-1,globalVar.mousePositionY=null!=e.pageY?e.pageY:-1,setTimeout(function(){try{if((new Date).getTime()-globalVar.lastMouseMoveStopTime>=LOG_CONSTANTS.THRESHOLD.MOUSE_MOUVE_STOP_TIMEOUT){var t=e.target||e.srcElement,n=logger.createData();if(null!=t&&null!=t){try{for(var i=t.attributes,a=0;a<i.length;a++){var o=i[a];n.target[o.nodeName]=o.nodeValue}}catch(e){globalVar.tracking&&console.log(e)}try{n.target.tagName=t.tagName}catch(e){globalVar.tracking&&console.log(e)}var r=t.parentElement;if(null==r||null==r);else{try{for(i=r.attributes,a=0;a<i.length;a++){o=i[a];n.target["parent_"+o.nodeName]=o.nodeValue}}catch(e){globalVar.tracking&&console.log(e)}try{n.target.parent_tagName=r.tagName}catch(e){globalVar.tracking&&console.log(e)}var s=r;for(a=1;a<100&&(null!=(s=s.parentElement)&&null!=s);a++){try{for(var l=s.attributes,c=0;c<l.length;c++){var d=l[c];n.target["parent_"+a+"_"+d.nodeName]=d.nodeValue}}catch(e){globalVar.tracking&&console.log(e)}try{n.target["parent_"+a+"_tagName"]=s.tagName}catch(e){globalVar.tracking&&console.log(e)}}}}var g=logger.createLogObject(LOG_CONSTANTS.ACTION_TYPE.MOUSE_MOVE_STOP,n);g.prepareLogObjectData(logger),logger.sendLog(g)}}catch(e){globalVar.tracking&&console.log(e)}},LOG_CONSTANTS.THRESHOLD.MOUSE_MOUVE_STOP_TIMEOUT)}catch(e){globalVar.tracking&&console.log(e)}},this.enterUpLog=function(){try{var e=this.createData();e.target.text_search=[];for(var t=0,n=0;n<LOG_CONSTANTS.ID_SEARCH_BOXS.length;n++){var i=LOG_CONSTANTS.ID_SEARCH_BOXS[n],a=document.getElementById(i);if(null!=a&&null!=a){var o=a.value,r=new Object;r.text_search=o,r.id_text_search=i,e.target.text_search[t]=r,t++}}var s=this.createLogObject(LOG_CONSTANTS.ACTION_TYPE.ENTER_UP,e);s.prepareLogObjectData(this),localStorage.setItem(LOG_CONSTANTS.LOCAL_STORAGE.LOG_ENTER_UP_COOKIE_KEY+s.time,JSON.stringify(s)),this.sendXHRLog(s)}catch(e){globalVar.tracking&&console.log(e)}},this.scrollLog=function(){try{if((new Date).getTime()-globalVar.lastScrollTime>=LOG_CONSTANTS.THRESHOLD.SCROLL_TIMEOUT){var e=this.createLogObject(LOG_CONSTANTS.ACTION_TYPE.WINDOW_SCROLL,null);e.prepareLogObjectData(this),this.sendLog(e)}}catch(e){globalVar.tracking&&console.log(e)}},this.timeOnSiteLog=function(){try{var e=(new Date).getTime(),t=this.createData();t.timeOnSite=globalVar.time_on_site,t.timestamp=e,t.is=this.getInputData();var n=this.createLogObject(LOG_CONSTANTS.ACTION_TYPE.UNLOAD,t);n.prepareLogObjectData(this),localStorage.setItem(LOG_CONSTANTS.LOCAL_STORAGE.LOG_TIME_ON_SITE_KEY+n.time,JSON.stringify(n)),logger.sendXHRLog(n)}catch(e){globalVar.tracking&&console.log(e)}},this.getBuyCategories=function(){var e=new Set;return e.add(38),e.add(324),e.add(41),e.add(325),e.add(163),e.add(40),e.add(283),e.add(44),e.add(45),e.add(48),e.add(49),e.add(326),e.add(50),e.add(51),e.add(52),e.add(53),e.add(55),e.add(57),e.add(59),e},this.getRentCategories=function(){var e=new Set;return e.add(400),e.add(401),e.add(402),e.add(403),e.add(404),e.add(405),e.add(406),e.add(407),e.add(408),e.add(409),e.add(410),e.add(411),e.add(412),e.add(413),e.add(414),e.add(415),e.add(416),e.add(417),e.add(418),e},this.getNewsCategories=function(){var e=new Set;return e.add(88),e.add(89),e.add(90),e.add(91),e.add(92),e.add(113),e.add(164),e.add(120),e.add(12),e.add(123),e.add(154),e.add(149),e.add(151),e.add(331),e.add(8),e.add(9),e.add(264),e.add(147),e.add(277),e.add(30),e.add(138),e.add(141),e.add(139),e.add(114),e.add(31),e.add(118),e.add(140),e.add(32),e.add(142),e.add(143),e.add(144),e.add(145),e.add(146),e.add(112),e.add(133),e.add(29),e.add(124),e.add(122),e.add(125),e.add(127),e.add(128),e.add(129),e.add(130),e.add(363),e.add(119),e.add(117),e.add(21),e.add(24),e.add(364),e.add(132),e.add(131),e.add(115),e.add(134),e.add(135),e.add(136),e.add(23),e.add(358),e},this.handleBrowserTabActive=function(){globalVar.is_active||(globalVar.start_time_active_tab=new Number((new Date).getTime()),globalVar.is_active=!0)},this.handleBrowserTabDeactive=function(){globalVar.is_active&&(globalVar.time_on_site=globalVar.time_on_site+(new Number((new Date).getTime())-globalVar.start_time_active_tab),globalVar.is_active=!1)},this.parseIdFromUrl=function(e){return e.match(/^.*-pr([0-9]+)$/)?e.replace(/^.*-pr([0-9]+)$/,"$1"):e.match(/^.*-pd([0-9]+)$/)?e.replace(/^.*-pd([0-9]+)$/,"$1"):e.match(/^.*-ar([0-9]+)$/)?e.replace(/^.*-ar([0-9]+)$/,"$1"):e.match(/^.*-fq([0-9]+)$/)?e.replace(/^.*-fq([0-9]+)$/,"$1"):e.match(/^.*-pj([0-9]+)$/)?e.replace(/^.*-pj([0-9]+)$/,"$1"):e.match(/^.*-ad([0-9]+)$/)?e.replace(/^.*-ad([0-9]+)$/,"$1"):e.match(/^.*-ib([0-9]+)$/)?e.replace(/^.*-ib([0-9]+)$/,"$1"):e.match(/^.*-ep([0-9]+)$/)?e.replace(/^.*-ep([0-9]+)$/,"$1"):e.match(/^.*-at([0-9]+)$/)?e.replace(/^.*-at([0-9]+)$/,"$1"):null},this.getHrefIdFromElement=function(e,t){try{t.h=e.querySelector("a[href][title]").getAttribute("href"),t.i=this.parseIdFromUrl(t.h),t.t=e.querySelector("a[href][title]").getAttribute("title"),t.uid=e.getAttribute("uid")}catch(e){globalVar.tracking&&console.log(e)}},this.updateUserInfoToCookie=function(){try{var e=this.getCookie(LOG_CONSTANTS.COOKIE.USER_INFO_KEY_COOKIE);if(e&&void 0!==e&&""!=e){var t=JSON.parse(decodeURIComponent(e));(t||t.email||t.email!=userInfo.email)&&this.setCookie(LOG_CONSTANTS.COOKIE.USER_INFO_KEY_COOKIE,encodeURIComponent(JSON.stringify(userInfo)),LOG_CONSTANTS.THRESHOLD.USER_INFO_KEY_COOKIE)}else this.setCookie(LOG_CONSTANTS.COOKIE.USER_INFO_KEY_COOKIE,encodeURIComponent(JSON.stringify(userInfo)),LOG_CONSTANTS.THRESHOLD.USER_INFO_KEY_COOKIE)}catch(e){globalVar.tracking&&console.log(e)}},this.getPageViewDataDesktop=function(){var e=this.createData();try{e.ci=__bannerContext&&null!=__bannerContext&&""!=__bannerContext&&__bannerContext.cateId&&null!=__bannerContext.cateId&&""!=__bannerContext.cateId?__bannerContext.cateId:null}catch(e){globalVar.tracking&&console.log(e)}try{e.cc=null!=document.getElementById("hdCboCity")?document.getElementById("hdCboCity").value:null}catch(e){globalVar.tracking&&console.log(e)}try{e.di=null!=document.getElementById("hdCboDistrict")?document.getElementById("hdCboDistrict").value:null}catch(e){globalVar.tracking&&console.log(e)}try{e.pi=null!=document.getElementById("hdCboProject")?document.getElementById("hdCboProject").value:null}catch(e){globalVar.tracking&&console.log(e)}try{e.wi=null!=document.getElementById("hdCboWard")?document.getElementById("hdCboWard").value:null}catch(e){globalVar.tracking&&console.log(e)}try{e.si=null!=document.getElementById("hdCboStreet")?document.getElementById("hdCboStreet").value:null}catch(e){globalVar.tracking&&console.log(e)}try{e.uid=null!=document.getElementById("product-detail")?document.getElementById("product-detail").getAttribute("uid"):null}catch(e){globalVar.tracking&&console.log(e)}return this.getPageViewDetailDesktop(e),this.getImpressionItemsDesktop(e),this.getImpressionNewsDesktop(e),e},this.getPageViewDetailDesktop=function(e){try{e.vdi.t=document.title,e.vdi.h=document.URL,e.vdi.i=this.parseIdFromUrl(document.URL),e.vdi.uid=e.uid}catch(e){globalVar.tracking&&console.log(e)}try{e.vdi.uid=e.uid}catch(e){globalVar.tracking&&console.log(e)}this.getPageViewPriceDetailDesktop(e),this.getPageViewAreaDetailDesktop(e),this.getPageViewZoneDetailDesktop(e),this.getPageViewDistrictDetailDesktop(e),this.getPageViewActionTypeDetailDesktop(e),this.getPageViewAddressDetailDesktop(e),this.getPageViewPostTypeDetailDesktop(e),this.getPageViewDatePostDetailDesktop(e)},this.getPageViewDatePostDetailDesktop=function(e){if(this.getBuyCategories().has(e.ci))for(var t=document.querySelectorAll('div[class="prd-more-info"] div[style*="width:"]'),n=0;n<t.length;n++)try{if(t[n].innerText.includes("Ngày đăng:")){e.vdi.dp=t[n].innerText.substring("Ngày đăng:".length).trim();break}}catch(e){globalVar.tracking&&console.log(e)}else if(this.getRentCategories().has(e.ci))for(t=document.querySelectorAll('div[class="pm-content-detail"] div[class="left-detail"] div[style*="padding"]'),n=0;n<t.length;n++)try{if(t[n].innerText.includes("Ngày đăng tin")){e.vdi.dp=t[n].innerText.substring("Ngày đăng tin".length).trim();break}}catch(e){globalVar.tracking&&console.log(e)}else if(this.getNewsCategories().has(e.ci)){t=document.querySelectorAll('div[class="date-first"]');try{e.vdi.dp=t[0].innerText.trim()}catch(e){globalVar.tracking&&console.log(e)}}},this.getPageViewPostTypeDetailDesktop=function(e){if(this.getBuyCategories().has(e.ci))for(var t=document.querySelectorAll('div[class="prd-more-info"] div[style*="width:"]'),n=0;n<t.length;n++)try{if(t[n].innerText.includes("Loại hình tin đăng:")){e.vdi.pt=t[n].innerText.substring("Loại hình tin đăng:".length).trim();break}}catch(e){globalVar.tracking&&console.log(e)}else if(this.getRentCategories().has(e.ci))for(t=document.querySelectorAll('div[class="pm-content-detail"] div[class="left-detail"] div[style*="padding"]'),n=0;n<t.length;n++)try{if(t[n].innerText.includes("Loại tin rao")){e.vdi.pt=t[n].innerText.substring("Loại tin rao".length).trim();break}}catch(e){globalVar.tracking&&console.log(e)}},this.getPageViewAddressDetailDesktop=function(e){if(this.getBuyCategories().has(e.ci))for(var t=document.querySelectorAll('div[class*="div-table-cell table"] div[class="row"]'),n=0;n<t.length;n++)try{if(t[n].querySelector('div[class="left"]').innerText.toLowerCase().trim().includes("địa chỉ")){e.vdi.ad=t[n].querySelector('div[class="right"]').innerText.trim();break}}catch(e){globalVar.tracking&&console.log(e)}else if(this.getRentCategories().has(e.ci))for(t=document.querySelectorAll('div[class="left-detail"] div[style*="padding"]'),n=0;n<t.length;n++)try{if(t[n].querySelector('div[class="left"]').innerText.toLowerCase().trim().includes("địa chỉ")){e.vdi.ad=t[n].querySelector('div[class="right"]').innerText.trim();break}}catch(e){globalVar.tracking&&console.log(e)}},this.getPageViewActionTypeDetailDesktop=function(e){if(this.getBuyCategories().has(e.ci))try{for(var t=document.querySelectorAll('div[class*="div-table-cell table"] div[class="row"]'),n=0;n<t.length;n++)try{if("loại tin rao"==t[n].querySelector('div[class="left"]').innerText.toLowerCase().trim()){e.vdi.o=t[n].querySelector('div[class="right"]').innerText.trim();break}}catch(e){globalVar.tracking&&console.log(e)}}catch(e){globalVar.tracking&&console.log(e)}else if(this.getRentCategories().has(e.ci))try{for(t=document.querySelectorAll('div[class="left-detail"] div[style*="padding"]'),n=0;n<t.length;n++)try{if(t[n].querySelector('div[class="left"]').innerText.toLowerCase().trim().includes("loại tin rao")){e.vdi.o=t[n].querySelector('div[class="right"]').innerText.trim();break}}catch(e){globalVar.tracking&&console.log(e)}}catch(e){globalVar.tracking&&console.log(e)}},this.getPageViewZoneDetailDesktop=function(e){if(this.getBuyCategories().has(e.ci)||this.getRentCategories().has(e.ci))try{e.vdi.zn=null!=document.querySelector('span[class*="diadiem-title"] a')&&null!=document.querySelector('span[class*="diadiem-title"] a')?document.querySelector('span[class*="diadiem-title"] a').innerText:null}catch(e){globalVar.tracking&&console.log(e)}},this.getPageViewDistrictDetailDesktop=function(e){if(this.getBuyCategories().has(e.ci)||this.getRentCategories().has(e.ci))try{if(e.vdi.dn=null!=document.querySelector('span[class*="diadiem-title"]')&&null!=document.querySelector('span[class*="diadiem-title"]')?document.querySelector('span[class*="diadiem-title"]').innerText:null,null!=e.vdi.zn&&null!=e.vdi.zn){var t=e.vdi.dn.indexOf(e.vdi.zn);t>0&&t+e.vdi.zn.length+3<e.vdi.dn.length&&(e.vdi.dn=e.vdi.dn.substring(t+e.vdi.zn.length+3),e.vdi.dn=e.vdi.dn.trim())}}catch(e){globalVar.tracking&&console.log(e)}},this.getPageViewAreaDetailDesktop=function(e){if(this.getBuyCategories().has(e.ci)||this.getRentCategories().has(e.ci))try{e.vdi.a=null!=document.querySelector('span[class="gia-title"] strong')&&null!=document.querySelector('span[class="gia-title"] strong')?document.querySelector('span[class="gia-title"] strong').innerText:null}catch(e){globalVar.tracking&&console.log(e)}},this.getPageViewPriceDetailDesktop=function(e){(this.getBuyCategories().has(e.ci)||this.getRentCategories().has(e.ci))&&(e.vdi.p=null!=document.querySelector('span[class*="gia-title mar-right"] strong')&&null!=document.querySelector('span[class*="gia-title mar-right"] strong')?document.querySelector('span[class*="gia-title mar-right"] strong').innerText.trim():null)},this.getPageViewPriceItemDesktop=function(t,n,i){if(document.URL.endsWith("batdongsan.com.vn")||document.URL.endsWith("batdongsan.com.vn/"))for(var a=i.querySelectorAll('div[class="left"]'),o=0;o<a.length;o++)try{if(a[o].innerText&&null!=a[o].innerText&&"giá"==a[o].innerText.toLowerCase()&&(e=a[o].parentNode,null!=a[o].parentNode&&null!=a[o].parentNode&&a[o].parentNode.innerText&&null!=a[o].parentNode.innerText&&""!=a[o].parentNode.innerText.trim())){var r=a[o].parentNode.innerText.split(":");if(2==r.length){n.p=r[1].trim();break}}}catch(e){globalVar.tracking&&console.log(e)}else if(document.URL.endsWith("batdongsan.com.vn/can-mua-can-thue")||document.URL.endsWith("batdongsan.com.vn/can-mua-can-thue/")||document.URL.endsWith("batdongsan.com.vn/mua-cac-loai-bat-dong-san-khac")||document.URL.endsWith("batdongsan.com.vn/mua-cac-loai-bat-dong-san-khac/")||this.getRentCategories().has(t.ci))try{n.p=i.querySelector('span[class*="product-price"]').innerText.trim()}catch(e){globalVar.tracking&&console.log(e)}else if(this.getBuyCategories().has(t.ci))try{n.p=i.querySelector('strong[class*="product-price"]').innerText.trim()}catch(e){globalVar.tracking&&console.log(e)}else document.URL.endsWith("batdongsan.com.vn/tin-tuc")||document.URL.endsWith("batdongsan.com.vn/tin-tuc/")||this.getNewsCategories().has(t.ci)},this.getPageViewAreaItemDesktop=function(t,n,i){if(document.URL.endsWith("batdongsan.com.vn")||document.URL.endsWith("batdongsan.com.vn/"))for(var a=i.querySelectorAll('div[class="left"]'),o=0;o<a.length;o++)try{if(a[o].innerText&&null!=a[o].innerText&&"diện tích"==a[o].innerText.toLowerCase()&&(e=a[o].parentNode,null!=a[o].parentNode&&null!=a[o].parentNode&&a[o].parentNode.innerText&&null!=a[o].parentNode.innerText&&""!=a[o].parentNode.innerText.trim())){var r=a[o].parentNode.innerText.split(":");if(2==r.length){n.a=r[1].trim();break}}}catch(e){globalVar.tracking&&console.log(e)}else if(document.URL.endsWith("batdongsan.com.vn/can-mua-can-thue")||document.URL.endsWith("batdongsan.com.vn/can-mua-can-thue/")||document.URL.endsWith("batdongsan.com.vn/mua-cac-loai-bat-dong-san-khac")||document.URL.endsWith("batdongsan.com.vn/mua-cac-loai-bat-dong-san-khac/")||this.getRentCategories().has(t.ci))try{n.a=i.querySelector('span[class*="product-area"]').innerText.trim()}catch(e){globalVar.tracking&&console.log(e)}else if(this.getBuyCategories().has(t.ci))try{n.a=i.querySelector('strong[class*="product-area"]').innerText.trim()}catch(e){globalVar.tracking&&console.log(e)}else document.URL.endsWith("batdongsan.com.vn/tin-tuc")||document.URL.endsWith("batdongsan.com.vn/tin-tuc/")||this.getNewsCategories().has(t.ci)},this.getPageViewDistrictItemDesktop=function(e,t,n){if(document.URL.endsWith("batdongsan.com.vn")||document.URL.endsWith("batdongsan.com.vn/"))for(var i=n.querySelectorAll('div[class="left"]'),a=0;a<i.length;a++)try{if(i[a].innerText&&null!=i[a].innerText&&"quận/huyện"==i[a].innerText.toLowerCase()&&null!=i[a].parentNode&&null!=i[a].parentNode){var o=i[a].parentNode.querySelector("span");if(null!=o&&null!=o){t.dn=o.innerText.trim();break}}}catch(e){globalVar.tracking&&console.log(e)}else if(document.URL.endsWith("batdongsan.com.vn/can-mua-can-thue")||document.URL.endsWith("batdongsan.com.vn/can-mua-can-thue/")||document.URL.endsWith("batdongsan.com.vn/mua-cac-loai-bat-dong-san-khac")||document.URL.endsWith("batdongsan.com.vn/mua-cac-loai-bat-dong-san-khac/")||this.getRentCategories().has(e.ci))try{t.dn=n.querySelector('span[class*="product-city-dist"]').innerText.trim()}catch(e){globalVar.tracking&&console.log(e)}else if(this.getBuyCategories().has(e.ci))try{t.dn=n.querySelector('strong[class*="product-city-dist"]').innerText.trim()}catch(e){globalVar.tracking&&console.log(e)}else document.URL.endsWith("batdongsan.com.vn/tin-tuc")||document.URL.endsWith("batdongsan.com.vn/tin-tuc/")||this.getNewsCategories().has(e.ci)},this.getPageViewDatePostItemDesktop=function(e,t,n){if(document.URL.endsWith("batdongsan.com.vn")||document.URL.endsWith("batdongsan.com.vn/"))try{t.dp=n.querySelector('div[class*="p-bottom-right"]').innerText.trim()}catch(e){globalVar.tracking&&console.log(e)}else if(document.URL.endsWith("batdongsan.com.vn/can-mua-can-thue")||document.URL.endsWith("batdongsan.com.vn/can-mua-can-thue/")||document.URL.endsWith("batdongsan.com.vn/mua-cac-loai-bat-dong-san-khac")||document.URL.endsWith("batdongsan.com.vn/mua-cac-loai-bat-dong-san-khac/")||this.getRentCategories().has(e.ci))try{t.dp=n.querySelector('div[class*="floatright"]').innerText.trim()}catch(e){globalVar.tracking&&console.log(e)}else if(this.getBuyCategories().has(e.ci))try{t.dp=n.querySelector('div[class*="floatright"]').innerText.trim()}catch(e){globalVar.tracking&&console.log(e)}else document.URL.endsWith("batdongsan.com.vn/tin-tuc")||document.URL.endsWith("batdongsan.com.vn/tin-tuc/")||this.getNewsCategories().has(e.ci)},this.getImpressionItemsDesktop=function(e){for(var t=document.querySelectorAll('div[class*="product-list"] div[uid]'),n=0;t&&null!=t&&n<t.length;n++){var a=t[n],o=new i;this.getLocationFromElement(a,o),o.uid=a.getAttribute("uid");try{var r=a.querySelector("a[title]");null!=r&&null!=r&&(o.t=r.title,o.h=r.href,o.i=this.parseIdFromUrl(o.h))}catch(e){globalVar.tracking&&console.log(e)}this.getPageViewPriceItemDesktop(e,o,a),this.getPageViewAreaItemDesktop(e,o,a),this.getPageViewDistrictItemDesktop(e,o,a),this.getPageViewDatePostItemDesktop(e,o,a),e.vdis[n]=o}},this.getImpressionNewsDesktop=function(e){this.getImpressionNews(e)},this.getImpressionNewsMobile=function(e){this.getImpressionNews(e)},this.getImpressionNews=function(e){for(var t=new Map,n=document.querySelectorAll('a[href*="-ar"][title]'),a=0;a<n.length;a++){var o=n[a],r=o.href;if(!t.has(key)&&r.match(/^.*-ar([0-9]+)$/)||r.match(/^.*-at([0-9]+)$/)){var s=new i;s.h=r,s.t=o.title,s.i=this.parseIdFromUrl(s.h),t.set(r,s)}}if(t.size>0){var l=0;t.forEach((t,n)=>{e.vdns[l]=t,l++})}},this.getPageViewDataMobile=function(){var e=this.createData();try{e.ci=__bannerContext&&null!=__bannerContext&&""!=__bannerContext&&__bannerContext.cateId&&null!=__bannerContext.cateId&&""!=__bannerContext.cateId?__bannerContext.cateId:null}catch(e){globalVar.tracking&&console.log(e)}try{e.cc=__bannerContext&&null!=__bannerContext&&__bannerContext.cityCode&&null!=__bannerContext.cityCode&&""!=__bannerContext.cityCode?__bannerContext.cityCode:null}catch(e){globalVar.tracking&&console.log(e)}try{e.di=__bannerContext&&null!=__bannerContext&&__bannerContext.districtId&&null!=__bannerContext.districtId&&""!=__bannerContext.districtId?__bannerContext.districtId:null}catch(e){globalVar.tracking&&console.log(e)}try{var t=document.getElementById("ContentPlaceHolder_ProductDetail1_linkProject");t&&null!=t&&t.href&&null!=t.href&&(e.pi=this.parseIdFromUrl(t.href))}catch(e){globalVar.tracking&&console.log(e)}try{if(null!=e.di&&null!=e.di&&""!=e.di){var n=document.getElementById("cboWardProduct");if(!(o=n.parentElement.querySelector("strong").innerText.trim()).toLowerCase().includes("--chọn"))for(var i=n.querySelectorAll("option"),a=0;a<i.length;a++)if(o.toLowerCase().trim()==i[a].innerText.trim().toLowerCase()){e.wi=i[a].value?i[a].value:null;break}}}catch(e){globalVar.tracking&&console.log(e)}try{if(null!=e.di&&null!=e.di&&""!=e.di){var o,r=document.getElementById("cboStreetProduct");if(!(o=r.parentElement.querySelector("strong").innerText.trim().toLowerCase()).includes("--chọn"))for(i=r.querySelectorAll("option"),a=0;a<i.length;a++)if(o==i[a].innerText.toLowerCase().trim()){e.si=i[a].value?i[a].value:null;break}}}catch(e){globalVar.tracking&&console.log(e)}try{e.uid=null!=document.querySelector('div[class="sr-content"]')?document.querySelector('div[class="sr-content"]').getAttribute("uid"):null}catch(e){globalVar.tracking&&console.log(e)}return this.getPageViewDetailMobile(e),this.getImpressionItemsMobile(e),this.getImpressionNewsMobile(e),e},this.getPageViewDatePostDetailMobile=function(e){try{if(this.getRentCategories().has(e.ci))for(var t=document.querySelectorAll('div[class="sr-content"] div[class="o-info"] div[class="o-i-field"]'),n=0;n<t.length;n++)try{if("ngày đăng tin"==t[n].querySelector('span[class*="text-blue"]').innerText.trim().toLowerCase()){e.vdi.dp=t[n].querySelector('span[class*="-value-"]').innerText.trim();break}}catch(e){globalVar.tracking&&console.log(e)}else if(this.getBuyCategories().has(e.ci))for(t=document.querySelectorAll('div[class="sr-content"] div[class="o-info"] div[class="o-i-field"]'),n=0;n<t.length;n++)try{if("ngày đăng tin"==t[n].querySelector('span[class*="text-grey"]').innerText.trim().toLowerCase()){e.vdi.dp=t[n].querySelector('span[class*="-value-"]').innerText.trim();break}}catch(e){globalVar.tracking&&console.log(e)}}catch(e){globalVar.tracking&&console.log(e)}},this.getPageViewPostTypeDetailMobile=function(e){try{if(this.getBuyCategories().has(e.ci))for(var t=document.querySelectorAll('div[class="sr-content"] div[class="o-info"] div[class="o-i-field"]'),n=0;n<t.length;n++)try{if("loại tin đăng"==t[n].querySelector('span[class*="text-grey"]').innerText.trim().toLowerCase()){e.vdi.ad=t[n].querySelector('span[class*="-value-"]').innerText.trim();break}}catch(e){globalVar.tracking&&console.log(e)}}catch(e){globalVar.tracking&&console.log(e)}},this.getPageViewAddressDetailMobile=function(e){try{if(this.getRentCategories().has(e.ci))for(var t=document.querySelectorAll('div[class="sr-content"] div[class="o-info"] div[class="o-i-field"]'),n=0;n<t.length;n++)try{if("ðịa chỉ"==t[n].querySelector('span[class*="text-blue"]').innerText.trim().toLowerCase()){e.vdi.ad=t[n].querySelector('span[class*="-value-"]').innerText.trim();break}}catch(e){globalVar.tracking&&console.log(e)}else if(this.getBuyCategories().has(e.ci))for(t=document.querySelectorAll('div[class="sr-content"] div[class="o-info"] div[class="o-i-field"]'),n=0;n<t.length;n++)try{if("ðịa chỉ"==t[n].querySelector('span[class*="text-grey"]').innerText.trim().toLowerCase()){e.vdi.ad=t[n].querySelector('span[class*="-value-"]').innerText.trim();break}}catch(e){globalVar.tracking&&console.log(e)}}catch(e){globalVar.tracking&&console.log(e)}},this.getPageViewActionTypeDetailMobile=function(e){try{if(this.getRentCategories().has(e.ci))for(var t=document.querySelectorAll('div[class="sr-content"] div[class="o-info"] div[class="o-i-field"]'),n=0;n<t.length;n++)try{if("loại tin rao"==t[n].querySelector('span[class*="text-blue"]').innerText.trim().toLowerCase()){e.vdi.o=t[n].querySelector('span[class*="-value-"]').innerText.trim();break}}catch(e){globalVar.tracking&&console.log(e)}else if(this.getBuyCategories().has(e.ci))for(t=document.querySelectorAll('div[class="sr-content"] div[class="o-info"] div[class="o-i-field"]'),n=0;n<t.length;n++)try{if("loại tin rao"==t[n].querySelector('span[class*="text-grey"]').innerText.trim().toLowerCase()){e.vdi.o=t[n].querySelector('span[class*="-value-"]').innerText.trim();break}}catch(e){globalVar.tracking&&console.log(e)}}catch(e){globalVar.tracking&&console.log(e)}},this.getPageViewZoneDetailMobile=function(e){try{if(this.getRentCategories().has(e.ci))for(var t=document.querySelectorAll('div[class="sr-content"] div[class="o-info"] div[class="o-i-field"]'),n=0;n<t.length;n++)try{if("ðịa chỉ"==t[n].querySelector('span[class*="text-blue"]').innerText.trim().toLowerCase()){e.vdi.zn=t[n].querySelector('span[class*="-value-"]').innerText.trim();break}}catch(e){globalVar.tracking&&console.log(e)}else if(this.getBuyCategories().has(e.ci)){var i=document.querySelector('div[class*="diadiem-title"]').innerText.trim(),a=document.querySelector('div[class*="diadiem-title"] a').innerText.trim();i=i.substring(i.indexOf(a)+a.length,i.length).trim(),e.vdi.dn=i.substring(i.indexOf("-")+"-".length,i.length).trim()}}catch(e){globalVar.tracking&&console.log(e)}},this.getPageViewDistrictDetailMobile=function(e){try{if(this.getRentCategories().has(e.ci))for(var t=document.querySelectorAll('div[class="sr-content"] div[class="o-info"] div[class="o-i-field"]'),n=0;n<t.length;n++)try{if("ðịa chỉ"==t[n].querySelector('span[class*="text-blue"]').innerText.trim().toLowerCase()){e.vdi.dn=t[n].querySelector('span[class*="-value-"]').innerText.trim();break}}catch(e){globalVar.tracking&&console.log(e)}else this.getBuyCategories().has(e.ci)&&(e.vdi.zn=document.querySelector('div[class*="diadiem-title"] a').innerText.trim())}catch(e){globalVar.tracking&&console.log(e)}},this.getPageViewAreaDetailMobile=function(e){try{this.getRentCategories().has(e.ci)?e.vdi.a=document.getElementById("ContentPlaceHolder_AdNewsDetail1_Area").querySelector('span[class*="-value-"]').innerText.trim():this.getBuyCategories().has(e.ci)&&(e.vdi.a=document.getElementById("ContentPlaceHolder_ProductDetail1_Area").querySelector('span[class*="-value-"]').innerText.trim())}catch(e){globalVar.tracking&&console.log(e)}},this.getPageViewPriceDetailMobile=function(e){try{this.getRentCategories().has(e.ci)?e.vdi.p=document.getElementById("ContentPlaceHolder_AdNewsDetail1_price").querySelector('span[class="o-value-red"]').innerText.trim():this.getBuyCategories().has(e.ci)&&(e.vdi.p=document.querySelector('div[id="ContentPlaceHolder_ProductDetail1_price"] span[class*="value"]').innerText.trim())}catch(e){globalVar.tracking&&console.log(e)}},this.getPageViewDetailMobile=function(e){try{e.vdi.t=document.title,e.vdi.h=document.URL,e.vdi.i=this.parseIdFromUrl(document.URL),e.vdi.uid=e.uid}catch(e){globalVar.tracking&&console.log(e)}this.getPageViewPriceDetailMobile(e),this.getPageViewAreaDetailMobile(e),this.getPageViewDistrictDetailMobile(e),this.getPageViewZoneDetailMobile(e),this.getPageViewActionTypeDetailMobile(e),this.getPageViewAddressDetailMobile(e),this.getPageViewPostTypeDetailMobile(e),this.getPageViewDatePostDetailMobile(e)},this.getPageViewPriceItemMobile=function(e,t,n){try{if(document.URL.endsWith("batdongsan.com.vn/")||document.URL.endsWith("batdongsan.com.vn"))t.p=n.querySelectorAll('span[class="sp-info"]')[0].innerText.trim();else if(document.URL.endsWith("batdongsan.com.vn/can-mua-can-thue")||document.URL.endsWith("batdongsan.com.vn/can-mua-can-thue/")||document.URL.endsWith("batdongsan.com.vn/mua-cac-loai-bat-dong-san-khac")||document.URL.endsWith("batdongsan.com.vn/mua-cac-loai-bat-dong-san-khac/")||this.getRentCategories().has(e.ci))for(var i=n.querySelectorAll('span[class*="sp-info"]'),a=0;a<i.length;a++)try{if("giá:"==i[a].querySelector("b").innerText.trim().toLowerCase()){t.p=i[a].querySelector("strong").innerText.trim();break}}catch(e){globalVar.tracking&&console.log(e)}else this.getBuyCategories().has(e.ci)?(null!=e.vdi&&null!=e.vdi&&null!=e.vdi.i&&e.vdi.i,t.p=n.querySelector('div[class*="sr-info"] span[class*="sp-gia"]').innerText.trim()):document.URL.endsWith("batdongsan.com.vn/tin-tuc")||document.URL.endsWith("batdongsan.com.vn/tin-tuc/")||this.getNewsCategories().has(e.ci)}catch(e){globalVar.tracking&&console.log(e)}},this.getPageViewAreaItemMobile=function(e,t,n){try{if(document.URL.endsWith("batdongsan.com.vn/")||document.URL.endsWith("batdongsan.com.vn"))t.a=n.querySelectorAll('span[class="sp-info"]')[1].innerText.trim();else if(document.URL.endsWith("batdongsan.com.vn/can-mua-can-thue")||document.URL.endsWith("batdongsan.com.vn/can-mua-can-thue/")||document.URL.endsWith("batdongsan.com.vn/mua-cac-loai-bat-dong-san-khac")||document.URL.endsWith("batdongsan.com.vn/mua-cac-loai-bat-dong-san-khac/")||this.getRentCategories().has(e.ci))for(var i=n.querySelectorAll('span[class*="sp-info"]'),a=0;a<i.length;a++)try{if("diện tích:"==i[a].querySelector("b").innerText.trim().toLowerCase()){t.a=i[a].querySelector("strong").innerText.trim();break}}catch(e){globalVar.tracking&&console.log(e)}else this.getBuyCategories().has(e.ci)?null!=e.vdi&&null!=e.vdi&&null!=e.vdi.i&&null!=e.vdi.i||(t.a=n.querySelector('div[class*="sr-info"] span[class*="sp-area"]').innerText.trim()):document.URL.endsWith("batdongsan.com.vn/tin-tuc")||document.URL.endsWith("batdongsan.com.vn/tin-tuc/")||this.getNewsCategories().has(e.ci)}catch(e){globalVar.tracking&&console.log(e)}},this.getPageViewDistrictItemMobile=function(e,t,n){try{if(document.URL.endsWith("batdongsan.com.vn/")||document.URL.endsWith("batdongsan.com.vn"))t.dn=n.querySelectorAll('span[class="sp-info"]')[2].innerText.trim();else if(document.URL.endsWith("batdongsan.com.vn/can-mua-can-thue")||document.URL.endsWith("batdongsan.com.vn/can-mua-can-thue/")||document.URL.endsWith("batdongsan.com.vn/mua-cac-loai-bat-dong-san-khac")||document.URL.endsWith("batdongsan.com.vn/mua-cac-loai-bat-dong-san-khac/")||this.getRentCategories().has(e.ci))for(var i=n.querySelectorAll('span[class*="sp-info"]'),a=0;a<i.length;a++)try{if("địa chỉ:"==i[a].querySelector("b").innerText.trim().toLowerCase()){t.dn=i[a].querySelector("strong").innerText.trim(),t.ad=i[a].querySelector("strong").innerText.trim();break}}catch(e){globalVar.tracking&&console.log(e)}else if(this.getBuyCategories().has(e.ci))if(null!=e.vdi&&null!=e.vdi&&null!=e.vdi.i&&null!=e.vdi.i);else{var o=n.querySelector('div[class*="sr-info"] span[class*="sp-address"]').innerText.trim(),r=n.querySelector('div[class*="sr-info"] span[class*="sp-uptime"]').innerText.trim();t.dn=o.substring(0,o.indexOf(r)).trim()}else document.URL.endsWith("batdongsan.com.vn/tin-tuc")||document.URL.endsWith("batdongsan.com.vn/tin-tuc/")||this.getNewsCategories().has(e.ci)}catch(e){globalVar.tracking&&console.log(e)}},this.getPageViewDatePostItemMobile=function(e,t,n){try{if(document.URL.endsWith("batdongsan.com.vn/")||document.URL.endsWith("batdongsan.com.vn"));else if(document.URL.endsWith("batdongsan.com.vn/can-mua-can-thue")||document.URL.endsWith("batdongsan.com.vn/can-mua-can-thue/")||document.URL.endsWith("batdongsan.com.vn/mua-cac-loai-bat-dong-san-khac")||document.URL.endsWith("batdongsan.com.vn/mua-cac-loai-bat-dong-san-khac/")||this.getRentCategories().has(e.ci)){var i=n.querySelector("h3 span[style]").innerText.trim();i.indexOf("(")>=0&&(i=i.substring(i.indexOf("(")+1,i.length).trim()),i.indexOf(")")>=0&&(i=i.substring(0,i.indexOf(")")).trim()),t.dp=i}else this.getBuyCategories().has(e.ci)?null!=e.vdi&&null!=e.vdi&&null!=e.vdi.i&&null!=e.vdi.i||(t.dp=n.querySelector('div[class*="sr-info"] span[class*="sp-uptime"]').innerText.trim()):document.URL.endsWith("batdongsan.com.vn/tin-tuc")||document.URL.endsWith("batdongsan.com.vn/tin-tuc/")||this.getNewsCategories().has(e.ci)}catch(e){globalVar.tracking&&console.log(e)}},this.getImpressionItemsMobile=function(e){try{var t=null;if(document.URL.endsWith("batdongsan.com.vn/")||document.URL.endsWith("batdongsan.com.vn")?t=document.querySelectorAll('ul[id="ul_for"] li[uid]'):document.URL.endsWith("batdongsan.com.vn/can-mua-can-thue")||document.URL.endsWith("batdongsan.com.vn/can-mua-can-thue/")||document.URL.endsWith("batdongsan.com.vn/mua-cac-loai-bat-dong-san-khac")||document.URL.endsWith("batdongsan.com.vn/mua-cac-loai-bat-dong-san-khac/")||this.getRentCategories().has(e.ci)?t=document.querySelectorAll('ul[class*="s-list"] li[uid]'):this.getBuyCategories().has(e.ci)?t=document.querySelectorAll('ul[class*="s-list"] li[uid]'):document.URL.endsWith("batdongsan.com.vn/tin-tuc")||document.URL.endsWith("batdongsan.com.vn/tin-tuc/")||this.getNewsCategories().has(e.ci),t.length>0)for(var n=0;null!=t&&null!=t&&n<t.length;n++){var a=t[n],o=new i;this.getLocationFromElement(a,o),this.getHrefIdFromElement(a,o),this.getPageViewPriceItemMobile(e,o,a),this.getPageViewAreaItemMobile(e,o,a),this.getPageViewDistrictItemMobile(e,o,a),this.getPageViewDatePostItemMobile(e,o,a),e.vdis[n]=o}else if(this.getRentCategories().has(e.ci)&&null!=e.vdi.i&&null!=e.vdi.i){t=document.querySelectorAll('ul[class*="ul-other-news"] li a[href][title]');for(n=0;n<t.length;n++)try{(o=new i).h=t[n].getAttribute("href"),o.i=this.parseIdFromUrl(o.h),o.t=t[n].getAttribute("title"),e.vdis[n]=o}catch(e){globalVar.tracking&&console.log(e)}}}catch(e){globalVar.tracking&&console.log(e)}}}catch(e){globalVar.tracking&&console.log(e)}}var logger=new Logger;function loggerAddSearchBoxEventLog(){try{for(var e=0;e<LOG_CONSTANTS.ID_SEARCH_BOXS.length;e++){var t=LOG_CONSTANTS.ID_SEARCH_BOXS[e];null!=document.getElementById(t)&&null!=document.getElementById(t)&&document.getElementById(t).addEventListener("keyup",function(e){e.keyCode==LOG_CONSTANTS.KEY_CODE.ENTER&&logger.enterUpLog()})}}catch(e){globalVar.tracking&&console.log(e)}}function loggerUpdateUserInfo(){try{var e=new XMLHttpRequest;e.onreadystatechange=function(){if(e.readyState==XMLHttpRequest.DONE&&e.status>=200&&e.status<300){var t=e.responseText;if(t){var n=JSON.parse(t);n&&null!=n&&n.email&&void 0!==n.email&&""!=n.email&&n.email!=userInfo.email&&(userInfo.email=n.email,userInfo.mobile=n.mobile,userInfo.name=n.name,userInfo.id=n.id,userInfo.identify_card_number=n.identify_card_number,userInfo.age=n.age,userInfo.time=(new Date).getTime(),logger.updateUserInfoToCookie())}}},e.open("GET",LOG_CONSTANTS.URL.USER_HANDLER,!0),e.withCredentials=!0,e.send()}catch(e){globalVar.tracking&&console.log(e)}}var allKeyLocalStorage=Object.keys(localStorage);try{for(var i=0;i<allKeyLocalStorage.length;i++){if((key=allKeyLocalStorage[i]).startsWith(LOG_CONSTANTS.LOCAL_STORAGE.LOG_TIME_ON_SITE_KEY))if((logTimeOnSiteStr=localStorage.getItem(key))&&void 0!==logTimeOnSiteStr&&""!=logTimeOnSiteStr){var logTimeOnSiteObj=JSON.parse(logTimeOnSiteStr);localStorage.removeItem(key),logger.sendLog(logTimeOnSiteObj)}}}catch(e){globalVar.tracking&&console.log(e)}try{for(i=0;i<allKeyLocalStorage.length;i++){var logTimeOnSiteStr;if((key=allKeyLocalStorage[i]).startsWith(LOG_CONSTANTS.LOCAL_STORAGE.LOG_CLICK_COOKIE_KEY))if((logTimeOnSiteStr=localStorage.getItem(key))&&void 0!==logTimeOnSiteStr&&""!=logTimeOnSiteStr){var logClickObj=JSON.parse(logTimeOnSiteStr);localStorage.removeItem(key),logger.sendLog(logTimeOnSiteObj)}}}catch(e){globalVar.tracking&&console.log(e)}try{for(i=0;i<allKeyLocalStorage.length;i++){var key;if((key=allKeyLocalStorage[i]).startsWith(LOG_CONSTANTS.LOCAL_STORAGE.LOG_ENTER_UP_COOKIE_KEY)){var logEnterUpStr=localStorage.getItem(key);if(null!=logEnterUpStr&&void 0!==logEnterUpStr&&""!=logEnterUpStr){var logEnterUpObj=JSON.parse(logEnterUpStr);localStorage.removeItem(key),logger.sendLog(logEnterUpObj)}}}}catch(e){globalVar.tracking&&console.log(e)}try{var userInfoStr=logger.getCookie(LOG_CONSTANTS.COOKIE.USER_INFO_KEY_COOKIE),needGetUserInfo=!0;if(userInfoStr&&void 0!==userInfoStr&&""!=userInfoStr){try{var objUserInfo=JSON.parse(userInfoStr);userInfoStr=encodeURIComponent(userInfoStr),logger.setCookie(LOG_CONSTANTS.COOKIE.USER_INFO_KEY_COOKIE,userInfoStr,LOG_CONSTANTS.THRESHOLD.USER_INFO_KEY_COOKIE)}catch(e){}null!=(objUserInfo=JSON.parse(decodeURIComponent(userInfoStr)))&&null!=objUserInfo&&null!=objUserInfo.email&&null!=objUserInfo.email&&(userInfo.name=objUserInfo.name,userInfo.mobile=objUserInfo.mobile,userInfo.email=objUserInfo.email,userInfo.id=objUserInfo.id,userInfo.identify_card_number=objUserInfo.identify_card_number,userInfo.age=objUserInfo.age,userInfo.time=objUserInfo.time,userInfo.time+864e5<(new Date).getTime()&&(needGetUserInfo=!1))}needGetUserInfo&&loggerUpdateUserInfo()}catch(e){globalVar.tracking&&console.log(e)}try{var ipInformation=logger.getIPLocationAddress();(ipInformation||null==ipInformation)&&logger.getIPLocationAddressFromAPI()}catch(e){globalVar.tracking&&console.log(e)}try{LOG_CONSTANTS.current_pagey_offset=window.pageYOffset,globalVar.loadedTime=(new Date).getTime(),globalVar.isLogPageView||(globalVar.isLogPageView=!0,logger.pageViewLog())}catch(e){globalVar.tracking&&console.log(e)}try{globalVar.loggerAndSearchTextBox||(globalVar.loggerAndSearchTextBox=!0,loggerAddSearchBoxEventLog())}catch(e){globalVar.tracking&&console.log(e)}try{globalVar.addMouseClickEvent||(globalVar.addMouseClickEvent=!0,window.addEventListener?window.addEventListener("mousedown",function(e){logger.mouseClickLog(e)}):window.attachEvent&&window.attachEvent("mousedown",function(e){logger.mouseClickLog(e)}))}catch(e){globalVar.tracking&&console.log(e)}try{globalVar.addScrollLog||(globalVar.addScrollLog=!0,window.onscroll=function(){globalVar.lastScrollTime=(new Date).getTime(),setTimeout(function(){logger.scrollLog()},LOG_CONSTANTS.THRESHOLD.SCROLL_TIMEOUT)})}catch(e){globalVar.tracking&&console.log(e)}try{globalVar.addBeforeUnload||(globalVar.addBeforeUnload=!0,window.addEventListener?window.addEventListener("beforeunload",function(){logger.handleBrowserTabDeactive(),logger.timeOnSiteLog()}):window.attachEvent&&window.attachEvent("beforeunload",function(){logger.handleBrowserTabDeactive(),logger.timeOnSiteLog()}))}catch(e){globalVar.tracking&&console.log(e)}try{globalVar.addMouseMoveAndStopEvent||(globalVar.addMouseMoveAndStopEvent=!0,window.addEventListener?window.addEventListener("mousemove",function(e){logger.mouseMoveAndStopLog(e)}):window.attachEvent&&window.attachEvent("mousemove",function(e){logger.mouseMoveAndStopLog(e)}))}catch(e){globalVar.tracking&&console.log(e)}try{var script_imported=document.createElement("script");script_imported.src=LOG_CONSTANTS.URL.EXPERIMENTAL_DESIGN_JS,null!=document.body&&null!=document.body?document.body.appendChild(script_imported):document.head.appendChild(script_imported)}catch(e){globalVar.tracking&&console.log(e)}globalVar.start_time_active_tab=new Number((new Date).getTime()),document.addEventListener("visibilitychange",function(){document.hidden?logger.handleBrowserTabDeactive():logger.handleBrowserTabActive()},!1),window.addEventListener("focus",function(){logger.handleBrowserTabActive()},!1),window.addEventListener("blur",function(){logger.handleBrowserTabDeactive()},!1);