(function(a){a.fn.twentytwenty=function(b){var b=a.extend({default_offset_pct:0.5,orientation:"horizontal",before_label:"Before",after_label:"After",no_overlay:false,move_slider_on_hover:false,move_with_handle_only:true,click_to_move:false},b);return this.each(function(){var x=b.default_offset_pct;var j=a(this);var w=b.orientation;var g=(w==="vertical")?"down":"left";var e=(w==="vertical")?"up":"right";j.wrap("<div class='twentytwenty-wrapper twentytwenty-"+w+"'></div>");if(!b.no_overlay){j.append("<div class='twentytwenty-overlay'></div>")}var h=j.find("img:first");var f=j.find("img:last");j.append("<div class='twentytwenty-handle'></div>");var v=j.find(".twentytwenty-handle");v.append("<span class='twentytwenty-"+g+"-arrow'></span>");v.append("<span class='twentytwenty-"+e+"-arrow'></span>");j.addClass("twentytwenty-container");h.addClass("twentytwenty-before");f.addClass("twentytwenty-after");var u=j.find(".twentytwenty-overlay");u.append("<div class='twentytwenty-before-label' data-content='"+b.before_label+"'></div>");u.append("<div class='twentytwenty-after-label' data-content='"+b.after_label+"'></div>");var i=function(y){var A=h.width();var z=h.height();return{w:A+"px",h:z+"px",cw:(y*A)+"px",ch:(y*z)+"px"}};var c=function(y){if(w==="vertical"){h.css("clip","rect(0,"+y.w+","+y.ch+",0)");f.css("clip","rect("+y.ch+","+y.w+","+y.h+",0)")}else{h.css("clip","rect(0,"+y.cw+","+y.h+",0)");f.css("clip","rect(0,"+y.w+","+y.h+","+y.cw+")")}j.css("height",y.h)};var d=function(z){var y=i(z);v.css((w==="vertical")?"top":"left",(w==="vertical")?y.ch:y.cw);c(y)};var n=function(A,z,y){return Math.max(z,Math.min(y,A))};var k=function(y,z){var A=(w==="vertical")?(z-q)/l:(y-p)/m;return n(A,0,1)};a(window).on("resize.twentytwenty",function(y){d(x)});var p=0;var q=0;var m=0;var l=0;var t=function(y){if(((y.distX>y.distY&&y.distX<-y.distY)||(y.distX<y.distY&&y.distX>-y.distY))&&w!=="vertical"){y.preventDefault()}else{if(((y.distX<y.distY&&y.distX<-y.distY)||(y.distX>y.distY&&y.distX>-y.distY))&&w==="vertical"){y.preventDefault()}}j.addClass("active");p=j.offset().left;q=j.offset().top;m=h.width();l=h.height()};var r=function(y){if(j.hasClass("active")){x=k(y.pageX,y.pageY);d(x)}};var s=function(){j.removeClass("active")};var o=b.move_with_handle_only?v:j;o.on("movestart",t);o.on("move",r);o.on("moveend",s);if(b.move_slider_on_hover){j.on("mouseenter",t);j.on("mousemove",r);j.on("mouseleave",s)}v.on("touchmove",function(y){y.preventDefault()});j.find("img").on("mousedown",function(y){y.preventDefault()});if(b.click_to_move){j.on("click",function(y){p=j.offset().left;q=j.offset().top;m=h.width();l=h.height();x=k(y.pageX,y.pageY);d(x)})}a(window).trigger("resize.twentytwenty")})}})(jQuery);