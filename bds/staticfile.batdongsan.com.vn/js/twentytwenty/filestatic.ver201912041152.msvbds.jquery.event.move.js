(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}})(function(o,O){var G=6,e=o.event.add,v=o.event.remove,M=function(R,S,Q){o.event.trigger(S,Q,R)},B=(function(){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(R,Q){return window.setTimeout(function(){R()},25)})})(),m={textarea:true,input:true,select:true,button:true},r={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},J={move:"touchmove",cancel:"touchend",end:"touchend"};function H(S){var R=S,Q=false,T=false;function U(V){if(Q){R();B(U);T=true;Q=false}else{T=false}}this.kick=function(V){Q=true;if(!T){U()}};this.end=function(W){var V=R;if(!W){return}if(!T){W()}else{R=Q?function(){V();W()}:W;Q=true}}}function D(){return true}function C(){return false}function t(Q){Q.preventDefault()}function u(Q){if(m[Q.target.tagName.toLowerCase()]){return}Q.preventDefault()}function n(Q){return(Q.which===1&&!Q.ctrlKey&&!Q.altKey)}function l(T,R){var Q,S;if(T.identifiedTouch){return T.identifiedTouch(R)}Q=-1;S=T.length;while(++Q<S){if(T[Q].identifier===R){return T[Q]}}}function g(Q,R){var S=l(Q.changedTouches,R.identifier);if(!S){return}if(S.pageX===R.pageX&&S.pageY===R.pageY){return}return S}function p(R){var Q;if(!n(R)){return}Q={target:R.target,startX:R.pageX,startY:R.pageY,timeStamp:R.timeStamp};e(document,r.move,s,Q);e(document,r.cancel,q,Q)}function s(R){var Q=R.data;h(R,Q,R,z)}function q(Q){z()}function z(){v(document,r.move,s);v(document,r.cancel,q)}function L(Q){var S,R;if(m[Q.target.tagName.toLowerCase()]){return}S=Q.changedTouches[0];R={target:S.target,startX:S.pageX,startY:S.pageY,timeStamp:Q.timeStamp,identifier:S.identifier};e(document,J.move+"."+S.identifier,K,R);e(document,J.cancel+"."+S.identifier,I,R)}function K(R){var Q=R.data,S=g(R,Q);if(!S){return}h(R,Q,S,A)}function I(Q){var R=Q.data,S=l(Q.changedTouches,R.identifier);if(!S){return}A(R.identifier)}function A(Q){v(document,"."+Q,K);v(document,"."+Q,I)}function h(S,U,V,T){var Q=V.pageX-U.startX,R=V.pageY-U.startY;if((Q*Q)+(R*R)<(G*G)){return}N(S,U,V,Q,R,T)}function k(){this._handled=D;return false}function j(Q){Q._handled()}function N(S,V,X,Q,R,T){var U=V.target,Y,W;Y=S.targetTouches;W=S.timeStamp-V.timeStamp;V.type="movestart";V.distX=Q;V.distY=R;V.deltaX=Q;V.deltaY=R;V.pageX=X.pageX;V.pageY=X.pageY;V.velocityX=Q/W;V.velocityY=R/W;V.targetTouches=Y;V.finger=Y?Y.length:1;V._handled=k;V._preventTouchmoveDefault=function(){S.preventDefault()};M(V.target,V);T(V.identifier)}function b(Q){var R=Q.data.timer;Q.data.touch=Q;Q.data.timeStamp=Q.timeStamp;R.kick()}function a(Q){var R=Q.data.event,S=Q.data.timer;w();i(R,S,function(){setTimeout(function(){v(R.target,"click",C)},0)})}function w(Q){v(document,r.move,b);v(document,r.end,a)}function d(Q){var R=Q.data.event,S=Q.data.timer,T=g(Q,R);if(!T){return}Q.preventDefault();R.targetTouches=Q.targetTouches;Q.data.touch=T;Q.data.timeStamp=Q.timeStamp;S.kick()}function c(Q){var R=Q.data.event,S=Q.data.timer,T=l(Q.changedTouches,R.identifier);if(!T){return}x(R);i(R,S)}function x(Q){v(document,"."+Q.identifier,d);v(document,"."+Q.identifier,c)}function P(Q,U,T,S){var R=T-Q.timeStamp;Q.type="move";Q.distX=U.pageX-Q.startX;Q.distY=U.pageY-Q.startY;Q.deltaX=U.pageX-Q.pageX;Q.deltaY=U.pageY-Q.pageY;Q.velocityX=0.3*Q.velocityX+0.7*Q.deltaX/R;Q.velocityY=0.3*Q.velocityY+0.7*Q.deltaY/R;Q.pageX=U.pageX;Q.pageY=U.pageY}function i(Q,S,R){S.end(function(){Q.type="moveend";M(Q.target,Q);return R&&R()})}function E(Q,S,R){e(this,"movestart.move",j);return true}function F(Q){v(this,"dragstart drag",t);v(this,"mousedown touchstart",u);v(this,"movestart",j);return true}function f(Q){if(Q.namespace==="move"||Q.namespace==="moveend"){return}e(this,"dragstart."+Q.guid+" drag."+Q.guid,t,O,Q.selector);e(this,"mousedown."+Q.guid,u,O,Q.selector)}function y(Q){if(Q.namespace==="move"||Q.namespace==="moveend"){return}v(this,"dragstart."+Q.guid+" drag."+Q.guid);v(this,"mousedown."+Q.guid)}o.event.special.movestart={setup:E,teardown:F,add:f,remove:y,_default:function(R){var S,Q;if(!R._handled()){return}function T(U){P(S,Q.touch,Q.timeStamp);M(R.target,S)}S={target:R.target,startX:R.startX,startY:R.startY,pageX:R.pageX,pageY:R.pageY,distX:R.distX,distY:R.distY,deltaX:R.deltaX,deltaY:R.deltaY,velocityX:R.velocityX,velocityY:R.velocityY,timeStamp:R.timeStamp,identifier:R.identifier,targetTouches:R.targetTouches,finger:R.finger};Q={event:S,timer:new H(T),touch:O,timeStamp:O};if(R.identifier===O){e(R.target,"click",C);e(document,r.move,b,Q);e(document,r.end,a,Q)}else{R._preventTouchmoveDefault();e(document,J.move+"."+R.identifier,d,Q);e(document,J.end+"."+R.identifier,c,Q)}}};o.event.special.move={setup:function(){e(this,"movestart.move",o.noop)},teardown:function(){v(this,"movestart.move",o.noop)}};o.event.special.moveend={setup:function(){e(this,"movestart.moveend",o.noop)},teardown:function(){v(this,"movestart.moveend",o.noop)}};e(document,"mousedown.move",p);e(document,"touchstart.move",L);if(typeof Array.prototype.indexOf==="function"){(function(Q,T){var S=["changedTouches","targetTouches"],R=S.length;while(R--){if(Q.event.props.indexOf(S[R])===-1){Q.event.props.push(S[R])}}})(o)}});